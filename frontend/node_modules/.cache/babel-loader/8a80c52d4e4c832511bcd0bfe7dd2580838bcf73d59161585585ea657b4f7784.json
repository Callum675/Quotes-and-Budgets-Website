{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\callu\\\\Desktop\\\\Quotes and Budgets Website\\\\frontend\\\\src\\\\pages\\\\main\\\\index.js\";\nimport React, { Component } from 'react';\nimport SocketServer from '../../utils/socket-server.js';\nimport reactUtils from '../../utils/reactUtils';\nimport HttpServer from '../../utils/http-to-server.js';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Index extends Component {\n  constructor() {\n    super(...arguments);\n    this.userId = null;\n    this.state = {\n      isOverlayVisible: true,\n      username: '______',\n      selectedUser: null\n    };\n    this.logout = async () => {\n      try {\n        await HttpServer.removeLS();\n        SocketServer.logout({\n          userId: this.userId\n        });\n        SocketServer.eventEmitter.on('logout-response', loggedOut => {\n          this.props.history.push(`/`);\n        });\n      } catch (error) {\n        console.log(error);\n        alert(' This App is Broken, we are working on it. try after some time.');\n        throw error;\n      }\n    };\n    this.setRenderLoadingState = loadingState => {\n      this.setState({\n        isOverlayVisible: loadingState\n      });\n    };\n    this.updateSelectedUser = user => {\n      this.setState({\n        selectedUser: user\n      });\n    };\n  }\n  async componentDidMount() {\n    try {\n      this.setRenderLoadingState(true);\n      this.userId = await HttpServer.getUserId();\n      const response = await HttpServer.userSessionCheck(this.userId);\n      if (response.error) {\n        this.props.history.push(`/`);\n      } else {\n        this.setState({\n          username: response.username\n        });\n        HttpServer.setLS('username', response.username);\n        SocketServer.establishSocketConnection(this.userId);\n      }\n      this.setRenderLoadingState(false);\n    } catch (error) {\n      this.setRenderLoadingState(false);\n      this.props.history.push(`/`);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${this.state.isOverlayVisible ? 'overlay' : 'visibility-hidden'} `,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Loading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"app-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"navbar navbar-expand-md\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Hello \", this.state.username, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"nav justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"nav-link\",\n              onClick: this.logout,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        role: \"main\",\n        className: \"container content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row quote-content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default _c = reactUtils.withLocation(Index);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","SocketServer","reactUtils","HttpServer","jsxDEV","_jsxDEV","Index","constructor","arguments","userId","state","isOverlayVisible","username","selectedUser","logout","removeLS","eventEmitter","on","loggedOut","props","history","push","error","console","log","alert","setRenderLoadingState","loadingState","setState","updateSelectedUser","user","componentDidMount","getUserId","response","userSessionCheck","setLS","establishSocketConnection","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","role","_c","withLocation","$RefreshReg$"],"sources":["C:/Users/callu/Desktop/Quotes and Budgets Website/frontend/src/pages/main/index.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport SocketServer from '../../utils/socket-server.js';\r\nimport reactUtils from '../../utils/reactUtils';\r\nimport HttpServer from '../../utils/http-to-server.js';\r\nimport './index.css';\r\n\r\n\r\nclass Index extends Component {\r\n  userId = null;\r\n  state = {\r\n    isOverlayVisible: true,\r\n    username: '______',\r\n    selectedUser: null\r\n  }\r\n\r\n  logout = async () => {\r\n    try {\r\n      await HttpServer.removeLS();\r\n      SocketServer.logout({\r\n        userId: this.userId\r\n      });\r\n      SocketServer.eventEmitter.on('logout-response', (loggedOut) => {\r\n        this.props.history.push(`/`);\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(' This App is Broken, we are working on it. try after some time.');\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  setRenderLoadingState = (loadingState) => {\r\n    this.setState({\r\n      isOverlayVisible: loadingState\r\n    });\r\n  }\r\n\r\n \r\n\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.setRenderLoadingState(true);\r\n      this.userId = await HttpServer.getUserId();\r\n      const response = await HttpServer.userSessionCheck(this.userId);\r\n      if (response.error) {\r\n        this.props.history.push(`/`)\r\n      } else {\r\n        this.setState({\r\n          username: response.username\r\n        });\r\n        HttpServer.setLS('username', response.username);\r\n        SocketServer.establishSocketConnection(this.userId);\r\n      }\r\n      this.setRenderLoadingState(false);\r\n    } catch (error) {\r\n      this.setRenderLoadingState(false);\r\n      this.props.history.push(`/`)\r\n    }\r\n  }\r\n\r\n  updateSelectedUser = (user) => {\r\n    this.setState({\r\n      selectedUser: user\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className = {`${this.state.isOverlayVisible ? 'overlay': 'visibility-hidden' } `}>\r\n          <h1>Loading</h1>\r\n        </div>\r\n        <header className=\"app-header\">\r\n          <nav className=\"navbar navbar-expand-md\">\r\n            <h4>Hello {this.state.username} </h4>\r\n          </nav>\r\n          <ul className=\"nav justify-content-end\">\r\n            <li className=\"nav-item\">\r\n              <button type=\"button\" className=\"nav-link\" onClick={this.logout}>Logout</button>\r\n            </li>\r\n          </ul>\r\n        </header>\r\n\r\n        <main role=\"main\" className=\"container content\" >\r\n          <div className=\"row quote-content\">\r\n            \r\n          </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default reactUtils.withLocation(Index)"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}