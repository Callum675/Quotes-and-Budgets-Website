{"ast":null,"code":"import * as io from 'socket.io-client';\nconst events = require('events');\nclass SocketServer {\n  constructor() {\n    this.socket = null;\n    this.eventEmitter = new events.EventEmitter();\n  }\n  // Connecting to Socket Server\n  establishSocketConnection(userId) {\n    try {\n      this.socket = io(`http://localhost:4000`, {\n        query: `userId=${userId}`\n      });\n    } catch (error) {\n      alert(`Something went wrong; Can't connect to socket server`);\n    }\n  }\n  getQuoteList(userId) {\n    this.socket.emit('quote-list', {\n      userId: userId\n    });\n    this.socket.on('quote-list-response', data => {\n      this.eventEmitter.emit('quote-list-response', data);\n    });\n  }\n  logout(userId) {\n    this.socket.emit('logout', userId);\n    this.socket.on('logout-response', data => {\n      this.eventEmitter.emit('logout-response', data);\n    });\n  }\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default new SocketServer();","map":{"version":3,"names":["io","events","require","SocketServer","constructor","socket","eventEmitter","EventEmitter","establishSocketConnection","userId","query","error","alert","getQuoteList","emit","on","data","logout"],"sources":["C:/Users/callu/Desktop/Quotes and Budgets Website/frontend/src/utils/socket-server.js"],"sourcesContent":["\r\nimport * as io from 'socket.io-client';\r\nconst events = require('events');\r\n\r\n\r\nclass SocketServer {\r\n    \r\n    socket = null\r\n    eventEmitter = new events.EventEmitter();\r\n\r\n    // Connecting to Socket Server\r\n    establishSocketConnection(userId) {\r\n        try {\r\n            this.socket = io(`http://localhost:4000`, {\r\n                query: `userId=${userId}`\r\n            });\r\n        } catch (error) {\r\n            alert(`Something went wrong; Can't connect to socket server`);\r\n        }\r\n    }\r\n\r\n    getQuoteList(userId) {\r\n        this.socket.emit('quote-list', {\r\n            userId: userId\r\n        });\r\n        this.socket.on('quote-list-response', (data) => {\r\n            this.eventEmitter.emit('quote-list-response', data);\r\n        });\r\n    }\r\n\r\n    logout(userId) {\r\n        this.socket.emit('logout', userId);\r\n        this.socket.on('logout-response', (data) => {\r\n            this.eventEmitter.emit('logout-response', data);\r\n        });\r\n    }\r\n\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default new SocketServer()"],"mappings":"AACA,OAAO,KAAKA,EAAE,MAAM,kBAAkB;AACtC,MAAMC,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAGhC,MAAMC,YAAY,CAAC;EAAAC,YAAA;IAAA,KAEfC,MAAM,GAAG,IAAI;IAAA,KACbC,YAAY,GAAG,IAAIL,MAAM,CAACM,YAAY,EAAE;EAAA;EAExC;EACAC,yBAAyBA,CAACC,MAAM,EAAE;IAC9B,IAAI;MACA,IAAI,CAACJ,MAAM,GAAGL,EAAE,CAAE,uBAAsB,EAAE;QACtCU,KAAK,EAAG,UAASD,MAAO;MAC5B,CAAC,CAAC;IACN,CAAC,CAAC,OAAOE,KAAK,EAAE;MACZC,KAAK,CAAE,sDAAqD,CAAC;IACjE;EACJ;EAEAC,YAAYA,CAACJ,MAAM,EAAE;IACjB,IAAI,CAACJ,MAAM,CAACS,IAAI,CAAC,YAAY,EAAE;MAC3BL,MAAM,EAAEA;IACZ,CAAC,CAAC;IACF,IAAI,CAACJ,MAAM,CAACU,EAAE,CAAC,qBAAqB,EAAGC,IAAI,IAAK;MAC5C,IAAI,CAACV,YAAY,CAACQ,IAAI,CAAC,qBAAqB,EAAEE,IAAI,CAAC;IACvD,CAAC,CAAC;EACN;EAEAC,MAAMA,CAACR,MAAM,EAAE;IACX,IAAI,CAACJ,MAAM,CAACS,IAAI,CAAC,QAAQ,EAAEL,MAAM,CAAC;IAClC,IAAI,CAACJ,MAAM,CAACU,EAAE,CAAC,iBAAiB,EAAGC,IAAI,IAAK;MACxC,IAAI,CAACV,YAAY,CAACQ,IAAI,CAAC,iBAAiB,EAAEE,IAAI,CAAC;IACnD,CAAC,CAAC;EACN;AAEJ;;AAEA;AACA,eAAe,IAAIb,YAAY,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}