{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\callu\\\\Desktop\\\\Quotes and Budgets Website\\\\frontend\\\\src\\\\pages\\\\auth\\\\login\\\\login.js\";\nimport React, { Component } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport HttpServer from '../../../utils/http-to-server.js';\nimport './login.css';\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst withLocation = Component => {\n  var _s = $RefreshSig$();\n  return _s(props => {\n    _s();\n    const location = useLocation();\n    return /*#__PURE__*/_jsxDEV(Component, {\n      ...props,\n      location: location\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 12\n    }, this);\n  }, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n    return [useLocation];\n  });\n};\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.handleLogin = async event => {\n      event.preventDefault();\n      this.props.loadingState(true);\n      try {\n        const response = await HttpServer.login(this.state);\n        this.props.loadingState(false);\n        if (response.error) {\n          alert('Invalid login details');\n        } else {\n          HttpServer.setLS('userid', response.userId);\n          this.props.history.push(`/home`);\n        }\n      } catch (error) {\n        this.props.loadingState(false);\n        alert('Invalid login details');\n      }\n    };\n    this.handleInputChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n    this.state = {\n      username: '',\n      password: ''\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(Form, {\n      className: \"auth-form\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"loginUsername\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Enter username\",\n          onChange: this.handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"loginPassword\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Password\",\n          onChange: this.handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        onClick: this.handleLogin,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default _c = withLocation(Login);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","Form","Button","HttpServer","useLocation","jsxDEV","_jsxDEV","withLocation","_s","$RefreshSig$","props","location","fileName","_jsxFileName","lineNumber","columnNumber","Login","constructor","handleLogin","event","preventDefault","loadingState","response","login","state","error","alert","setLS","userId","history","push","handleInputChange","setState","target","name","value","username","password","render","className","children","Group","controlId","Control","type","placeholder","onChange","variant","onClick","_c","$RefreshReg$"],"sources":["C:/Users/callu/Desktop/Quotes and Budgets Website/frontend/src/pages/auth/login/login.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport HttpServer from '../../../utils/http-to-server.js';\r\nimport './login.css';\r\n\r\nimport { useLocation } from \"react-router-dom\";\r\nconst withLocation = Component => props => {\r\n    const location = useLocation();\r\n  \r\n    return <Component {...props} location={location} />;\r\n  };\r\n\r\n\r\nclass Login extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: ''\r\n    };\r\n  }\r\n\r\n  handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    this.props.loadingState(true);\r\n    try {\r\n      const response = await HttpServer.login(this.state);\r\n      this.props.loadingState(false);\r\n      if(response.error) {\r\n        alert('Invalid login details')\r\n      } else {\r\n        HttpServer.setLS('userid', response.userId);\r\n        this.props.history.push(`/home`)\r\n      }\r\n    } catch (error) {\r\n      this.props.loadingState(false);\r\n      alert('Invalid login details')\r\n    }\r\n  }\r\n\r\n  handleInputChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form className=\"auth-form\">\r\n        <Form.Group controlId=\"loginUsername\">\r\n          <Form.Control \r\n            type = \"text\"\r\n            name = \"username\"\r\n            placeholder = \"Enter username\"\r\n            onChange = {\r\n              this.handleInputChange\r\n            }\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"loginPassword\">\r\n          <Form.Control \r\n          type = \"password\"\r\n          name = \"password\"\r\n          placeholder = \"Password\"\r\n          onChange = {\r\n            this.handleInputChange\r\n          }\r\n          />\r\n        </Form.Group>\r\n        <Button variant=\"primary\" type=\"submit\" onClick={this.handleLogin}>\r\n          Login\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withLocation(Login)\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}