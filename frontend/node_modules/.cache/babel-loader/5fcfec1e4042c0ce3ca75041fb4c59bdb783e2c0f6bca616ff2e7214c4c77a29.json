{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\callu\\\\Desktop\\\\Quotes and Budgets Website\\\\frontend\\\\src\\\\pages\\\\main\\\\index.js\";\nimport React, { Component } from 'react';\nimport SocketServer from '../../utils/socket-server.js';\nimport HttpServer from '../../utils/http-to-server.js';\nimport './index.css';\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst withLocation = Component => {\n  var _s = $RefreshSig$();\n  return _s(props => {\n    _s();\n    const location = useLocation();\n    return /*#__PURE__*/_jsxDEV(Component, {\n      ...props,\n      location: location\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 12\n    }, this);\n  }, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n    return [useLocation];\n  });\n};\nclass Index extends Component {\n  constructor() {\n    super(...arguments);\n    this.userId = null;\n    this.state = {\n      isOverlayVisible: true,\n      username: '______',\n      selectedUser: null\n    };\n    this.logout = async () => {\n      try {\n        await HttpServer.removeLS();\n        SocketServer.logout({\n          userId: this.userId\n        });\n        SocketServer.eventEmitter.on('logout-response', loggedOut => {\n          this.props.history.push(`/`);\n        });\n      } catch (error) {\n        console.log(error);\n        alert(' This App is Broken, we are working on it. try after some time.');\n        throw error;\n      }\n    };\n    this.setRenderLoadingState = loadingState => {\n      this.setState({\n        isOverlayVisible: loadingState\n      });\n    };\n    this.updateSelectedUser = user => {\n      this.setState({\n        selectedUser: user\n      });\n    };\n  }\n  async componentDidMount() {\n    try {\n      this.setRenderLoadingState(true);\n      this.userId = await HttpServer.getUserId();\n      const response = await HttpServer.userSessionCheck(this.userId);\n      if (response.error) {\n        this.props.history.push(`/`);\n      } else {\n        this.setState({\n          username: response.username\n        });\n        HttpServer.setLS('username', response.username);\n        SocketServer.establishSocketConnection(this.userId);\n      }\n      this.setRenderLoadingState(false);\n    } catch (error) {\n      this.setRenderLoadingState(false);\n      this.props.history.push(`/`);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${this.state.isOverlayVisible ? 'overlay' : 'visibility-hidden'} `,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Loading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"app-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"navbar navbar-expand-md\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Hello \", this.state.username, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"nav justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"nav-item\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"nav-link\",\n              onClick: this.logout,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        role: \"main\",\n        className: \"container content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row quote-content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default _c = withLocation(Index);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","SocketServer","HttpServer","useLocation","jsxDEV","_jsxDEV","withLocation","_s","$RefreshSig$","props","location","fileName","_jsxFileName","lineNumber","columnNumber","Index","constructor","arguments","userId","state","isOverlayVisible","username","selectedUser","logout","removeLS","eventEmitter","on","loggedOut","history","push","error","console","log","alert","setRenderLoadingState","loadingState","setState","updateSelectedUser","user","componentDidMount","getUserId","response","userSessionCheck","setLS","establishSocketConnection","render","className","children","type","onClick","role","_c","$RefreshReg$"],"sources":["C:/Users/callu/Desktop/Quotes and Budgets Website/frontend/src/pages/main/index.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport SocketServer from '../../utils/socket-server.js';\r\nimport HttpServer from '../../utils/http-to-server.js';\r\nimport './index.css';\r\n\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst withLocation = Component => props => {\r\n    const location = useLocation();\r\n  \r\n    return <Component {...props} location={location} />;\r\n  };\r\n\r\n\r\nclass Index extends Component {\r\n  userId = null;\r\n  state = {\r\n    isOverlayVisible: true,\r\n    username: '______',\r\n    selectedUser: null\r\n  }\r\n\r\n  logout = async () => {\r\n    try {\r\n      await HttpServer.removeLS();\r\n      SocketServer.logout({\r\n        userId: this.userId\r\n      });\r\n      SocketServer.eventEmitter.on('logout-response', (loggedOut) => {\r\n        this.props.history.push(`/`);\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      alert(' This App is Broken, we are working on it. try after some time.');\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  setRenderLoadingState = (loadingState) => {\r\n    this.setState({\r\n      isOverlayVisible: loadingState\r\n    });\r\n  }\r\n\r\n \r\n\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      this.setRenderLoadingState(true);\r\n      this.userId = await HttpServer.getUserId();\r\n      const response = await HttpServer.userSessionCheck(this.userId);\r\n      if (response.error) {\r\n        this.props.history.push(`/`)\r\n      } else {\r\n        this.setState({\r\n          username: response.username\r\n        });\r\n        HttpServer.setLS('username', response.username);\r\n        SocketServer.establishSocketConnection(this.userId);\r\n      }\r\n      this.setRenderLoadingState(false);\r\n    } catch (error) {\r\n      this.setRenderLoadingState(false);\r\n      this.props.history.push(`/`)\r\n    }\r\n  }\r\n\r\n  updateSelectedUser = (user) => {\r\n    this.setState({\r\n      selectedUser: user\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className = {`${this.state.isOverlayVisible ? 'overlay': 'visibility-hidden' } `}>\r\n          <h1>Loading</h1>\r\n        </div>\r\n        <header className=\"app-header\">\r\n          <nav className=\"navbar navbar-expand-md\">\r\n            <h4>Hello {this.state.username} </h4>\r\n          </nav>\r\n          <ul className=\"nav justify-content-end\">\r\n            <li className=\"nav-item\">\r\n              <button type=\"button\" className=\"nav-link\" onClick={this.logout}>Logout</button>\r\n            </li>\r\n          </ul>\r\n        </header>\r\n\r\n        <main role=\"main\" className=\"container content\" >\r\n          <div className=\"row quote-content\">\r\n            \r\n          </div>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withLocation(Index)"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}